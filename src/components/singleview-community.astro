<div class="carousel-container">
  <h3>Our community</h3>
  <div class="carousel-wrapper">
    <button class="carousel-btn left" aria-label="Scroll left">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="32"
        height="30"
        viewBox="0 0 32 30"
        fill="none"
      >
        <ellipse cx="16" cy="15" rx="16" ry="15" fill="white"></ellipse>
        <path
          d="M7.29 14.29c-.39.39-.39 1.02 0 1.41l6.36 6.36c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L9.41 15l5.66-5.66c.39-.39.39-1.02 0-1.41s-1.02-.39-1.41 0L7.29 14.29zM24 15v-1H8v1 1h16v-1z"
          fill="black"></path>
      </svg>
    </button>

    <div class="carousel">
      <img class="image" src="/test.jpg" alt="Community 1" />
      <img class="image" src="/test.jpg" alt="Community 2" />
      <img class="image" src="/test.jpg" alt="Community 3" />
      <img class="image" src="/test.jpg" alt="Community 4" />
      <img class="image" src="/test.jpg" alt="Community 5" />
      <img class="image" src="/test.jpg" alt="Community 6" />
      <img class="image" src="/test.jpg" alt="Community 7" />
    </div>

    <button class="carousel-btn right" aria-label="Scroll right">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="32"
        height="30"
        viewBox="0 0 32 30"
        fill="none"
      >
        <ellipse cx="16" cy="15" rx="16" ry="15" fill="white"></ellipse>
        <path
          d="M23.71 15.71c.39-.39.39-1.02 0-1.41L17.34 7.93c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41L21.59 15l-5.66 5.66c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0l6.36-6.36zM7 15v1h16v-1-1H7v1z"
          fill="black"></path>
      </svg>
    </button>
  </div>
</div>

<style>
  .carousel-container {
    width: 100%;
    margin: 2rem auto;
    text-align: center;
  }

  .carousel-container h3 {
    margin-bottom: 1rem;
    font-size: 1.5rem;
  }

  .carousel-wrapper {
    position: relative;
    display: flex;
    align-items: center;
  }

  .carousel {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    padding: 0 1rem;
  }

  .carousel::-webkit-scrollbar {
    display: none;
  }

  .image {
    width: 624px;
    height: 628px;
    flex-shrink: 0;
    aspect-ratio: 177 / 179;
    scroll-snap-align: start;
    object-fit: cover;
  }

  .carousel-btn {
    background: none;
    border: none;
    cursor: pointer;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1;
  }

  .carousel-btn.left {
    left: 0.5rem;
  }

  .carousel-btn.right {
    right: 0.5rem;
  }

  @media (max-width: 768px) {
    .carousel {
      gap: 0.5rem;
      padding: 0 0.5rem;
    }

    .image {
      max-width: 50%;
      height: auto;
    }

    .carousel-btn {
      display: none !important;
    }
  }
</style>

<script>
  const carousel = document.querySelector(".carousel");
  const btnLeft = document.querySelector(".carousel-btn.left");
  const btnRight = document.querySelector(".carousel-btn.right");

  if (carousel && btnLeft && btnRight) {
    btnLeft.addEventListener("click", () => {
      carousel.scrollBy({ left: -470, behavior: "smooth" });
    });

    btnRight.addEventListener("click", () => {
      carousel.scrollBy({ left: 470, behavior: "smooth" });
    });
  }
</script>
